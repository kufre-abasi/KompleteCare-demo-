import{_ as k,d as S,t as o,v as a,H as l,x as i,I as c,J as p,n as g,r as f,K as D,u as O,o as h,L,M as j,N as T,O as C,P as w,Q as V,y as M,R,B as N,S as F,z as I,T as P,U as q}from"./CXru7YGc.js";import{g as B}from"./DPKqo1zD.js";const z=S({props:{activeItem:{type:String,default:"Dashboard"},isOpen:{type:Boolean,default:!1}},emits:["update:isOpen"],setup(s,{emit:e}){const n=f(!1),d=f(!1),r=D("auth_token"),u=O(),t=()=>{d.value=window.innerWidth<768};h(()=>{t(),window.addEventListener("resize",t)}),L(()=>{window.removeEventListener("resize",t)});const m=()=>{n.value=!n.value},y=()=>{e("update:isOpen",!1)};return{collapsed:n,isMobile:d,toggleSidebar:m,closeSidebar:y,navigateTo:$=>{console.log(`Navigate to ${$}`),d.value&&y()},logout:()=>{r.value=null,u.push("/login"),console.log("Logging out"),d.value&&y()}}}}),A={class:"sidebar-header d-flex align-items-center justify-content-end py-5 p-3"},E={class:"sidebar-items"},W={key:0},X={key:0},H={key:0},Q={key:1,class:"bi bi-chevron-down ms-auto"},G={key:0},J={key:0},K={key:0},Y={key:0},Z={key:0},_={key:0},x={key:0};function ee(s,e,n,d,r,u){return a(),o("div",null,[s.isOpen&&s.isMobile?(a(),o("div",{key:0,class:"sidebar-backdrop",onClick:e[0]||(e[0]=(...t)=>s.closeSidebar&&s.closeSidebar(...t))})):l("",!0),i("div",{class:p(["sidebar bg-white shadow-sm",{"sidebar-open":s.isOpen&&s.isMobile,"sidebar-collapsed":s.collapsed&&!s.isMobile}])},[i("div",A,[i("button",{class:"btn-close d-md-none",onClick:e[1]||(e[1]=(...t)=>s.closeSidebar&&s.closeSidebar(...t)),"aria-label":"Close sidebar"})]),i("div",E,[i("div",{class:p(["sidebar-item d-flex align-items-center",{active:s.activeItem==="Dashboard"}]),onClick:e[2]||(e[2]=t=>("navigateTo"in s?s.navigateTo:c(g))("Dashboard"))},[e[13]||(e[13]=i("i",{class:"bi bi-grid-1x2-fill me-3"},null,-1)),!s.collapsed||s.isMobile?(a(),o("span",W,"Dashboard")):l("",!0)],2),i("div",{class:p(["sidebar-item d-flex align-items-center",{active:s.activeItem==="Profile"}]),onClick:e[3]||(e[3]=t=>("navigateTo"in s?s.navigateTo:c(g))("Profile"))},[e[14]||(e[14]=i("i",{class:"bi bi-person-fill me-3"},null,-1)),!s.collapsed||s.isMobile?(a(),o("span",X,"Profile")):l("",!0)],2),i("div",{class:p(["sidebar-item d-flex align-items-center",{active:s.activeItem==="Services"}]),onClick:e[4]||(e[4]=t=>("navigateTo"in s?s.navigateTo:c(g))("Services"))},[e[15]||(e[15]=i("i",{class:"bi bi-dropbox me-3"},null,-1)),!s.collapsed||s.isMobile?(a(),o("span",H,"Services")):l("",!0),!s.collapsed||s.isMobile?(a(),o("i",Q)):l("",!0)],2),i("div",{class:p(["sidebar-item d-flex align-items-center",{active:s.activeItem==="Medical Records"}]),onClick:e[5]||(e[5]=t=>("navigateTo"in s?s.navigateTo:c(g))("Medical Records"))},[e[16]||(e[16]=i("i",{class:"bi bi-file-medical-fill me-3"},null,-1)),!s.collapsed||s.isMobile?(a(),o("span",G,"Medical Records")):l("",!0)],2),i("div",{class:p(["sidebar-item d-flex align-items-center",{active:s.activeItem==="Care Wallet"}]),onClick:e[6]||(e[6]=t=>("navigateTo"in s?s.navigateTo:c(g))("Care Wallet"))},[e[17]||(e[17]=i("i",{class:"bi bi-wallet me-3"},null,-1)),!s.collapsed||s.isMobile?(a(),o("span",J,"Care Wallet")):l("",!0)],2),i("div",{class:p(["sidebar-item d-flex align-items-center",{active:s.activeItem==="Messages"}]),onClick:e[7]||(e[7]=t=>("navigateTo"in s?s.navigateTo:c(g))("Messages"))},[e[18]||(e[18]=i("i",{class:"bi bi-chat-fill me-3"},null,-1)),!s.collapsed||s.isMobile?(a(),o("span",K,"Messages")):l("",!0)],2),i("div",{class:p(["sidebar-item d-flex align-items-center",{active:s.activeItem==="Resources"}]),onClick:e[8]||(e[8]=t=>("navigateTo"in s?s.navigateTo:c(g))("Resources"))},[e[19]||(e[19]=i("i",{class:"bi bi-folder-fill me-3"},null,-1)),!s.collapsed||s.isMobile?(a(),o("span",Y,"Resources")):l("",!0)],2),e[23]||(e[23]=i("div",{class:"sidebar-divider my-3"},null,-1)),i("div",{class:p(["sidebar-item d-flex align-items-center",{active:s.activeItem==="Account Settings"}]),onClick:e[9]||(e[9]=t=>("navigateTo"in s?s.navigateTo:c(g))("Account Settings"))},[e[20]||(e[20]=i("i",{class:"bi bi-gear-fill me-3"},null,-1)),!s.collapsed||s.isMobile?(a(),o("span",Z,"Account Settings")):l("",!0)],2),i("div",{class:p(["sidebar-item d-flex align-items-center",{active:s.activeItem==="Contact Support"}]),onClick:e[10]||(e[10]=t=>("navigateTo"in s?s.navigateTo:c(g))("Contact Support"))},[e[21]||(e[21]=i("i",{class:"bi bi-question-circle-fill me-3"},null,-1)),!s.collapsed||s.isMobile?(a(),o("span",_,"Contact Support")):l("",!0)],2),i("div",{class:p(["sidebar-item d-flex align-items-center",{active:s.activeItem==="Logout"}]),onClick:e[11]||(e[11]=(...t)=>s.logout&&s.logout(...t))},[e[22]||(e[22]=i("i",{class:"bi bi-box-arrow-right me-3"},null,-1)),!s.collapsed||s.isMobile?(a(),o("span",x,"Logout")):l("",!0)],2)]),i("div",{class:"sidebar-toggle d-none d-md-block",onClick:e[12]||(e[12]=(...t)=>s.toggleSidebar&&s.toggleSidebar(...t))},[i("i",{class:p(["bi",s.collapsed?"bi-arrow-right-square":"bi-arrow-left-square"])},null,2)])],2)])}const se=k(z,[["render",ee],["__scopeId","data-v-4f80ee51"]]),ie=""+new URL("myProfile.BtzMDj3X.svg",import.meta.url).href,te=S({emits:["toggle-sidebar"],setup(s,{emit:e}){return{toggleSidebar:()=>{e("toggle-sidebar")}}}}),oe={class:"header d-flex justify-content-md-end justify-content-between align-items-center py-md-4 p-3"};function ae(s,e,n,d,r,u){return a(),o("div",oe,[i("button",{class:"btn btn-light d-md-none",onClick:e[0]||(e[0]=(...t)=>s.toggleSidebar&&s.toggleSidebar(...t)),"aria-label":"Toggle sidebar"},e[1]||(e[1]=[i("i",{class:"bi bi-list fs-5"},null,-1)])),e[2]||(e[2]=j('<div class="d-flex align-items-center" data-v-414ae599><a href="#" class="text-decoration-none me-4 text-primary" data-v-414ae599>Take a tour</a><div class="position-relative me-4" data-v-414ae599><i class="bi bi-envelope fs-5 text-secondary" data-v-414ae599></i><span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" data-v-414ae599> 2 </span></div><div class="position-relative me-4" data-v-414ae599><i class="bi bi-bell fs-5 text-secondary" data-v-414ae599></i><span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger" data-v-414ae599> 5 </span></div><div class="avatar" data-v-414ae599><img src="'+ie+'" alt="User Avatar" class="rounded-circle" width="40" height="40" data-v-414ae599></div></div>',1))])}const ne=k(te,[["render",ae],["__scopeId","data-v-414ae599"]]),le=S({props:{categories:{type:Array,default:()=>[]},loading:{type:Boolean,default:!1}},emits:["submit-success"],setup(s,{emit:e}){const n=f({}),d=f(""),r=f(""),u=f(!1),{mutate:t}=F(B`
      mutation SubmitInvestigation($input: InvestigationInput!) {
        submitInvestigation(input: $input) {
          success
          message
        }
      }
    `);return{selectedTests:n,ctScanValue:d,mriValue:r,submitting:u,getTestsByCategory:v=>{const b=s.categories.find($=>$.name===v);return b?b.tests:[]},submitForm:async()=>{u.value=!0;try{const v=Object.entries(n.value).filter(([$,U])=>U).map(([$])=>$);d.value&&v.push(d.value),r.value&&v.push(r.value);const{data:b}=await t({input:{testIds:v}});b.submitInvestigation.success&&(e("submit-success"),n.value={},d.value="",r.value="")}catch(v){console.error("Error submitting form:",v)}finally{u.value=!1}}}}}),de={class:"medical-record-form bg-white rounded shadow-sm p-4"},re={class:"section mb-4"},ue={class:"row g-3"},me={key:0,class:"col-12"},pe={class:"form-check"},ve=["id","onUpdate:modelValue"],be=["for"],ce={class:"section mb-4"},ge={class:"row g-3"},fe={class:"form-check"},ye=["id","onUpdate:modelValue"],$e=["for"],ke={class:"row g-4"},Se={class:"col-md-6"},Te={class:"section"},Ce=["value"],we={class:"col-md-6"},Me={class:"section"},Ie=["value"],Ve={class:"d-flex justify-content-end mt-5"},Re=["disabled"],Be={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"};function Ue(s,e,n,d,r,u){return a(),o("div",de,[i("div",re,[e[4]||(e[4]=i("h3",{class:"text-primary mb-3"},"X-Ray",-1)),i("div",ue,[s.loading?(a(),o("div",me,e[3]||(e[3]=[i("div",{class:"spinner-border text-primary",role:"status"},[i("span",{class:"visually-hidden"},"Loading...")],-1)]))):(a(!0),o(T,{key:1},C(s.getTestsByCategory("X-Ray"),t=>(a(),o("div",{key:t.id,class:"col-md-3 col-sm-6"},[i("div",pe,[w(i("input",{class:"form-check-input",type:"checkbox",id:t.id,"onUpdate:modelValue":m=>s.selectedTests[t.id]=m},null,8,ve),[[V,s.selectedTests[t.id]]]),i("label",{class:"form-check-label",for:t.id},M(t.name),9,be)])]))),128))])]),e[11]||(e[11]=i("hr",{class:"my-4"},null,-1)),i("div",ce,[e[5]||(e[5]=i("h3",{class:"text-primary mb-3"},"Ultrasound Scan",-1)),i("div",ge,[s.loading?l("",!0):(a(!0),o(T,{key:0},C(s.getTestsByCategory("Ultrasound Scan"),t=>(a(),o("div",{key:t.id,class:"col-md-3 col-sm-6"},[i("div",fe,[w(i("input",{class:"form-check-input",type:"checkbox",id:t.id,"onUpdate:modelValue":m=>s.selectedTests[t.id]=m},null,8,ye),[[V,s.selectedTests[t.id]]]),i("label",{class:"form-check-label",for:t.id},M(t.name),9,$e)])]))),128))])]),e[12]||(e[12]=i("hr",{class:"my-4"},null,-1)),i("div",ke,[i("div",Se,[i("div",Te,[e[7]||(e[7]=i("h3",{class:"text-primary mb-3"},"CT Scan",-1)),w(i("select",{class:"form-select","onUpdate:modelValue":e[0]||(e[0]=t=>s.ctScanValue=t)},[e[6]||(e[6]=i("option",{value:"",disabled:"",selected:""},"*Specify",-1)),s.loading?l("",!0):(a(!0),o(T,{key:0},C(s.getTestsByCategory("CT Scan"),t=>(a(),o("option",{key:t.id,value:t.id},M(t.name),9,Ce))),128))],512),[[R,s.ctScanValue]])])]),i("div",we,[i("div",Me,[e[9]||(e[9]=i("h3",{class:"text-primary mb-3"},"MRI",-1)),w(i("select",{class:"form-select","onUpdate:modelValue":e[1]||(e[1]=t=>s.mriValue=t)},[e[8]||(e[8]=i("option",{value:"",disabled:"",selected:""},"*Specify",-1)),s.loading?l("",!0):(a(!0),o(T,{key:0},C(s.getTestsByCategory("MRI"),t=>(a(),o("option",{key:t.id,value:t.id},M(t.name),9,Ie))),128))],512),[[R,s.mriValue]])])])]),i("div",Ve,[i("button",{class:"btn btn-primary px-4 py-2",onClick:e[2]||(e[2]=(...t)=>s.submitForm&&s.submitForm(...t)),disabled:s.submitting},[s.submitting?(a(),o("span",Be)):l("",!0),e[10]||(e[10]=N(" Save and Send "))],8,Re)])])}const De=k(le,[["render",Ue],["__scopeId","data-v-0d6027a6"]]),Oe=S({props:{show:{type:Boolean,default:!1}},emits:["close"],setup(){return{}}}),he={key:0,class:"success-dialog-backdrop"},Le={class:"success-dialog bg-white p-4 rounded shadow-lg"},je={class:"d-flex justify-content-center"};function Ne(s,e,n,d,r,u){return s.show?(a(),o("div",he,[i("div",Le,[e[1]||(e[1]=i("div",{class:"text-center mb-3"},[i("i",{class:"bi bi-check-circle-fill text-success fs-1"})],-1)),e[2]||(e[2]=i("h4",{class:"text-center mb-3"},"Success!",-1)),e[3]||(e[3]=i("p",{class:"text-center mb-4"},"Medical record has been updated successfully.",-1)),i("div",je,[i("button",{class:"btn btn-primary px-4",onClick:e[0]||(e[0]=t=>s.$emit("close"))},"Close")])])])):l("",!0)}const Fe=k(Oe,[["render",Ne],["__scopeId","data-v-b7034c20"]]),Pe=S({setup(){const s=f(!1),e=f([]),n=f(!1),{result:d,loading:r,error:u}=P(B`
      query GetInvestigations {
        investigations {
          categories {
            name
            tests {
              id
              name
            }
          }
        }
      }
    `);return q(d,m=>{m&&m.investigations&&(e.value=m.investigations.categories)}),{showSuccessDialog:s,categories:e,loading:r,error:u,sidebarOpen:n,toggleSidebar:()=>{n.value=!n.value}}}}),qe={class:"d-flex"},ze={class:"main-content flex-grow-1"},Ae={class:"container-fluid p-4"};function Ee(s,e,n,d,r,u){const t=se,m=ne,y=De,v=Fe;return a(),o("div",qe,[I(t,{activeItem:"Dashboard",isOpen:s.sidebarOpen,"onUpdate:isOpen":e[0]||(e[0]=b=>s.sidebarOpen=b)},null,8,["isOpen"]),i("div",ze,[I(m,{onToggleSidebar:s.toggleSidebar},null,8,["onToggleSidebar"]),i("div",Ae,[e[3]||(e[3]=i("h1",{class:"text-primary mb-2"},"Update Patient Medical Record",-1)),e[4]||(e[4]=i("p",{class:"text-muted mb-4"}," Click the tabs to view and edit patient medical details ",-1)),I(y,{categories:s.categories,onSubmitSuccess:e[1]||(e[1]=b=>s.showSuccessDialog=!0)},null,8,["categories"])])]),I(v,{show:s.showSuccessDialog,onClose:e[2]||(e[2]=b=>s.showSuccessDialog=!1)},null,8,["show"])])}const He=k(Pe,[["render",Ee],["__scopeId","data-v-99dafacf"]]);export{He as default};
